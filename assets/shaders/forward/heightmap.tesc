#version 450 core
layout(vertices=4)out;layout(std140, binding = 6)uniform Matrices{mat4 projection;mat4 view;};uniform mat4 model;in vec2 TexCoords[];out vec2 TexCoord_TE[];void main(){gl_out[gl_InvocationID].gl_Position=gl_in[gl_InvocationID].gl_Position;TexCoord_TE[gl_InvocationID]=TexCoords[gl_InvocationID];if(gl_InvocationID==0){vec4 l=view*model*gl_in[0].gl_Position,m=view*model*gl_in[1].gl_Position,s=view*model*gl_in[2].gl_Position,D=view*model*gl_in[3].gl_Position;float v=clamp((length(l.xyz)-20)/780,0.,1.),g=clamp((length(m.xyz)-20)/780,0.,1.),n=clamp((length(s.xyz)-20)/780,0.,1.),z=clamp((length(D.xyz)-20)/780,0.,1.),c=mix(64,4,min(n,v)),T=mix(64,4,min(v,g));g=mix(64,4,min(g,z));v=mix(64,4,min(z,n));gl_TessLevelOuter[0]=c;gl_TessLevelOuter[1]=T;gl_TessLevelOuter[2]=g;gl_TessLevelOuter[3]=v;gl_TessLevelInner[0]=max(T,v);gl_TessLevelInner[1]=max(c,g);}}